print("Part One:", sum([num * (num <= 100_000) for num in [((lambda a: lambda aa, aaa, aaaa: a(a, aa, aaa, aaaa))(lambda rec, dir, dict, listi: (isinstance(dict[dir], int) and dict[dir]) or [(listi.append(current_size), current_size)[1] for current_size in [sum([rec(rec, key, dict[dir], listi) for key in dict[dir].keys()])]][0])("/", d, l), l)[1] for d, l in [([([(c[2] == 'c' and (((c.split(" ")[-1] == ".." and cd_stack.pop()) or cd_stack.append(cd_stack[-1][c.split(" ")[-1]])) or True)) or [(size == "dir" and (cd_stack[-1].update({name: dict()}) or True)) or cd_stack[-1].update({name: int(size)}) for size, name in [c.split(" ")]] for c in css], cd_stack[0])[1] for cd_stack, css in [([{"/": dict()}], [([cs.remove("$ ls") for _ in range(cs.count("$ ls"))], cs)[1] for cs in [open("input.txt", "r").read().split("\n")]][0])]][0], list())]][0]]))
print("Part Two:", [min([int(n) for n in (" " + ", ".join([str(num * (num >= needed_space)) for num in num_list])).replace(" 0,", "").strip().split(", ")]) for needed_space, num_list in [(-40000000 + (lambda a: lambda aa, aaa, aaaa: a(a, aa, aaa, aaaa))(lambda rec, dir, dict, listi: (isinstance(dict[dir], int) and dict[dir]) or [(listi.append(current_size), current_size)[1] for current_size in [sum([rec(rec, key, dict[dir], listi) for key in dict[dir].keys()])]][0])("/", d, l), l) for d, l in [([([(c[2] == 'c' and (((c.split(" ")[-1] == ".." and cd_stack.pop()) or cd_stack.append(cd_stack[-1][c.split(" ")[-1]])) or True)) or [(size == "dir" and (cd_stack[-1].update({name: dict()}) or True)) or cd_stack[-1].update({name: int(size)}) for size, name in [c.split(" ")]] for c in css], cd_stack[0])[1] for cd_stack, css in [([{"/": dict()}], [([cs.remove("$ ls") for _ in range(cs.count("$ ls"))], cs)[1] for cs in [open("input.txt", "r").read().split("\n")]][0])]][0], list())]]][0])